<?xml version="1.0" encoding="utf-8"?>
<form>
	<fieldset>
		<field
			name="id"
			type="hidden"
		/>
		<field
			name="gpuntisID"
			type="text"
			label="COM_THM_ORGANIZER_TRM_GPUNTISID_LABEL"
			description="COM_THM_ORGANIZER_TRM_GPUNTISID_DESC"
			class="inputbox validate-gpuntisid"
			validate="gpuntisid"
			required="true"
		/>
		<field
			name="name"
			type="text"
			label="COM_THM_ORGANIZER_TRM_NAME_LABEL"
			description="COM_THM_ORGANIZER_TRM_NAME_DESC"
			class="inputbox validate-name"
			validate="name"
			required="true"
		/>
		<field
			name="username"
			type="text"
			label="COM_THM_ORGANIZER_TRM_USERNAME_LABEL"
			description="COM_THM_ORGANIZER_TRM_USERNAME_DESC"
			class="inputbox"
		/>
		
		<field
			name="departmentID"
			type="sql"
			label="COM_THM_ORGANIZER_TRM_DEPARTMENT_LABEL"
			description="COM_THM_ORGANIZER_TRM_DEPARTMENT_DESC"
			class="inputbox"
			query="SELECT DISTINCT id AS value, 
        						(CASE WHEN subdepartment NOT LIKE '' THEN
        							CONCAT(department, ' (', subdepartment, ')')
        						ELSE 
        							(department)
        						END) 
        						AS departmentID
        				FROM #__thm_organizer_departments"
        				
		/>

	</fieldset>
</form>